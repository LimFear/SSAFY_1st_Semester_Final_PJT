## 1. 프로젝트의 개요
- ### 서비스 소개: Library
  - 사용자가 도서를 탐색하고 의견을 공유할 수 있는 웹 기반 도서 플랫폼
  - 로그인 여부에 따라 개인화된 추천 도서와 커뮤니티 기능을 제공

- ### 핵심기능
  - AI 및 DB를 활용한 개인 맞춤 추천 도서 시스템
  - 도서별 댓글 및 스레드 기반 커뮤니티
  
- ### 기술스택
  - #### Backend & API
    - Django REST Framework (DRF)
      - 도서, 사용자, 댓글, 즐겨찾기 등의 데이터 API 제공
      - JWT 기반 인증 처리
      - 프론트엔드(Vue)와 REST 방식으로 통신

  - #### Frontend
    - AI 및 DB를 활용한 개인 맞춤 추천 도서 시스템
    - 도서별 댓글 및 스레드 기반 커뮤니티
  
  - #### DB
    - SQLite
      - 도서, 사용자, 댓글, 즐겨찾기 데이터 저장
      - 초기 개발 및 테스트 환경에 용이

  - #### AI
    - Model
      - gpt-4o-mini (LLM)
        - 임베딩 벡터 기반 유사도 검색 수행
      - text-embedding-3-small (Embedding Model)
        - 도서 제목·내용을 벡터로 변환
    - FAISS DB
      - 데이터에 벡터를 부여
    - LangChain
      - 임베딩 생성 및 검색 파이프라인 구성

## 2. 기능 구현 (AI활용 외의 기능)
  - 사용자 회원가입
    - 인증방식 : JWT (Cookie에 토큰을 담아서 보내기)
    - 커스텀 유저 모델 (사용자 선호 카테고리 추가)

  - 도서 리스트
    - 도서 DB 전체를 직관적으로 표지와 함께 출력
      - 상세뷰 이동, 책 즐겨찾기 저장 구현
    - 상세 뷰
      - 스레드를 생성하여 댓글 생성/삭제 구현
      - 책 즐겨찾기 저장 구현
  
  - 인기 도서
    - 조회수와 댓글의 조합으로 구성된 점수를 통해 상위 5개 도서를 메인 페이지에 출력

  - 도서 추천
    - 사용자 선호 기반 추천
      - 회원가입을 통해서 선호하는 카테고리를 범위를 지정
      - 즐겨찾기를 통해서 선호하는 작가의 범위로 축소 (Local DB)
      - 최종적으로 즐겨찾기에 없는 5개의 도서를 Local DB에서 추천

### 사용된 URL
  - articles/
    - books/                      `전체 도서 조회`
      - popular/                  `전체 도서중 인기 도서 조회`
      - recommended/              __`즐겨찾기 기반 도서 조회`__
      - <int:book_pk>/            `도서의 상세 페이지 조회`
        - comments/               `댓글 작성`
    - comments/<int:comment_pk>/  `댓글 삭제`
    - favorites/                  `사용자의 즐겨찾기 목록 조회`
    - categories/                 `전체 카테고리 조회`
  - accounts/
    - signup/                     `회원가입`
    - signout/                    `회원탈퇴`
    - token/                      `로그인 (Access Token 발급)`
    - token/refresh/              `Access Token 만료시 refresh가 유효하면 재발급`
    - logout/                     `로그아웃 (토큰삭제)`
  - aifeatures/
    - recommends/                 __`RAG기반 도서검색, 추천`__

## 3. AI 활용하여 구현한 기능

- 프롬프트 기반 추천
  - 사용자의 입력을 LLM으로 처리해서 적절한 카테고리로 변환
  - 임베딩 벡터로 변환된 각 카테고리의 유클리드 거리 비교
    1. 거리가 Threshold보다 낮으면 DB에서 검색
    2. 거리가 Threshold보다 높으면 사용자의 입력을 LLM으로 처리해서 적절한 키워드로 변환
       - 출력된 키워드를 알라딘 API의 검색 쿼리에 담아서 검색 요청

## 4. 마무리
### 임정환(C)
  - 스레드 & 댓글 로직 작성
  - 인기 도서 추천 알고리즘 설계
  - 개인 도서 추천 알고리즘 설계
  - 인터셉터 설계
- __느낀 점__
  - API 호출을 통해 서버와의 통신 구조를 분리하면서, 기능 확장과 디버깅이 훨씬 수월해졌고 Axios가 프론트엔드와 백엔드를 연결하는 데 편리한 도구라는 점을 체감했습니다.  
  - 조회수·댓글 기반의 인기 추천과 사용자 즐겨찾기 기반의 개인 추천을 분리해 구현하는데에 난이도가 높아 어려움이 있었습니다. 그래도 우여곡절 끝에 구현을 성공하면서 실력 향상에 도움이 되었습니다.

### 박상훈
  - API / DB 명세 작성
  - RAG기반 도서 검색 및 추천 시스템 구현
  - JWT인증 구현
- __느낀 점__
  - JWT를 사용하면 서버에 부담이 적어지고, 보안을 강화할 수 있다고 막연히 느꼈기 때문에 적용했지만 구현하다보니 프론트와 연계해야 하는 부분이 많았습니다. 덕분에 적극적인 소통을 많이 했던 것 같아서 만족합니다.
  - LangChain을 사용한 RAG기반 검색을 구현하면서 AI 강의를 회상하며 진행할 수 있었습니다. 또한 어떤 동작의 파이프라인을 구성하며, 수행되었을 때 만족감과 동시에 다른 것에도 AI를 적용해보고 싶다는 생각도 들었습니다.


# LOG

## 12.19 L
- vue skeleton code 추기
- 홈페이지 Template 작성
- RouterLink, Components 구성

## 12.19 P
- DRF basecode 추가, 각 Model 정의 (Book, Category, Comment)
- url구성과 view함수 구성 완료
- Dj-Rest-Auth를 사용하여 회원가입, 로그인/아웃 구현 완료
- 도서 리스트 조회, 단일 도서 리스트 조회 구현 완료

## 12.20 L
- navbar기반 Router Link 구현 완료
- main, List, Login View 구성
- api의 axios.js 구성하여 공통 호출 인자 생성(api)
- Signup.vue 추가 

## 12.20 P
- Token => simpleJWT 인증방식으로 변경
- 새로고침시 쿠키와 브라우저의 주소의 이름을 같게하여 토큰 유지
- 로그인 / 로그아웃시 store내에 isLogined를 추가하여 감시

## 12-22 L
- List의 도서 표지 출력 완료
- List의 더보기 구현 완료
- 회원가입 페이지 구현 완료
- 댓글 기능 추가
- Navbar UI 개선

## 12-22 P
- Favorite model, 동 serializers 생성
- 댓글 삭제 기능 추가

## 12-23 L
- Backend View 추가 (popular)
- 인기 도서 TOP 5 구현

## 12-24 L
- Backend View 추가 (recommended)
- 추천 도서 TOP 5 구현

## 12-23, 24 P
- 사용자 입력 프롬프트 기반 도서 추천 구현
- AI 모듈을 사용하는 페이지 따로 구현 필요
- AI를 사용하는 페이지 대신에 Fixed를 사용하여 챗봇 구현